{"version":3,"sources":["actions/index.js","actions/types.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["fetchUser","dispatch","a","axios","get","res","type","payload","data","handleToken","token","post","Payments","name","description","amount","props","stripeKey","process","className","React","Component","connect","actions","Header","this","auth","href","key","style","margin","credits","to","id","renderContent","Landing","textAlign","SurveyNew","Dashboard","App","path","exact","component","combineReducers","state","action","console","log","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","document","getElementById"],"mappings":"+YAGaA,EAAY,yDAAM,WAAOC,GAAP,eAAAC,EAAA,sEACLC,IAAMC,IAAI,qBADL,OACjBC,EADiB,OAEvBJ,EAAS,CACLK,KCNc,aDOdC,QAAQF,EAAIG,OAJO,2CAAN,uDAQRC,EAAc,SAACC,GAAD,8CAAW,WAAOT,GAAP,eAAAC,EAAA,sEAChBC,IAAMQ,KAAK,cAAcD,GADT,OAC5BL,EAD4B,OAElCJ,EAAS,CACLK,KCdc,aDedC,QAAQF,EAAIG,OAJkB,2CAAX,uD,iBENzBI,E,uKACO,IAAD,OAEJ,OACI,6BACA,kBAAC,IAAD,CACAC,KAAK,SACLC,YAAY,8BACZC,OAAQ,IACRL,MAAO,SAAAA,GAAQ,EAAKM,MAAMP,YAAYC,IACtCO,UAAWC,+GAEN,4BAAQC,UAAU,OAAlB,qB,GAZMC,IAAMC,WAmBdC,cAAQ,KAAKC,EAAbD,CAAsBV,GCnB/BY,E,8KAGF,OAAOC,KAAKT,MAAMU,MAChB,KAAK,KACH,OACA,KAAK,EACH,OAAO,4BAAI,uBAAGC,KAAK,gBAAR,sBACX,QACE,MACE,CACF,wBAAIC,IAAI,KAAI,kBAAC,EAAD,OACZ,wBAAIA,IAAK,IAAIC,MAAO,CAACC,OAAO,cAA5B,aAAqDL,KAAKT,MAAMU,KAAKK,SACrE,wBAAIH,IAAI,KAAI,uBAAGD,KAAK,eAAR,e,+BAOhB,OACA,6BACE,6BACN,yBAAKR,UAAU,eACb,kBAAC,IAAD,CAAMa,GAAIP,KAAKT,MAAMU,KAAO,WAAa,IACzCP,UAAU,cADV,SAGA,wBAAIc,GAAG,aAAad,UAAU,8BAC7BM,KAAKS,wB,GA5BSd,IAAMC,WA2CZC,mBANf,YACE,MACE,CAACI,KAF2B,EAANA,QAMXJ,CAAyBE,GCrCzBW,EATC,WACZ,OACI,yBAAKN,MAAO,CAACO,UAAU,WACnB,uCACA,iECCNC,EAAY,WACd,OACI,6BACI,iDAKNC,EAAY,WACd,OACI,6BACI,gDAKNC,E,kLAGEd,KAAKT,MAAMhB,c,+BAIX,OACI,yBAAKmB,UAAU,aACf,kBAAC,IAAD,KACA,kBAAC,EAAD,MACI,kBAAC,IAAD,CAAOqB,KAAK,IAAIC,OAAK,EAACC,UAAWP,IACjC,kBAAC,IAAD,CAAOM,OAAK,EAACD,KAAK,WAAWE,UAAWJ,IACxC,kBAAC,IAAD,CAAOE,KAAK,eAAeE,UAAWL,U,GAbpCjB,IAAMC,WAoBTC,cAAQ,KAAKC,EAAbD,CAAsBiB,GCxCtBI,cAAgB,CAC3BjB,KCFW,WAA0B,IAAjBkB,EAAgB,uDAAV,GAAGC,EAAO,uCAEpC,OADAC,QAAQC,IAAIF,GACLA,EAAOvC,MACV,INLkB,aMMd,OAAOuC,EAAOtC,UAAW,EAC7B,QACI,OAAOqC,MCEbI,EAAQC,YAAYC,EAAS,GAAGC,YAAgBC,MAEtDC,IAASC,OACL,kBAAC,IAAD,CAAUN,MAAOA,GACrB,kBAAC,EAAD,OAECO,SAASC,eAAe,SAEzBV,QAAQC,IAAI,gBAAgB7B,+GAC5B4B,QAAQC,IAAI,kBAAkB7B,gB","file":"static/js/main.80692d14.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport {FETCH_USER} from './types';\r\n\r\nexport const fetchUser = () => async (dispatch) =>{\r\n        const res = await axios.get('/api/current_user');\r\n        dispatch({\r\n            type:FETCH_USER,\r\n            payload:res.data\r\n        })\r\n    };\r\n\r\n    export const handleToken = (token) => async (dispatch) =>{\r\n        const res = await axios.post('/api/stripe',token);\r\n        dispatch({\r\n            type:FETCH_USER,\r\n            payload:res.data\r\n        })\r\n    }","export const FETCH_USER = \"fetch_user\";","import React from 'react';\r\nimport StripeCheckout from 'react-stripe-checkout';\r\nimport {connect} from 'react-redux';\r\nimport * as actions from '../actions';\r\n\r\nclass Payments extends React.Component{\r\n    render(){\r\n\r\n        return(\r\n            <div>\r\n            <StripeCheckout\r\n            name=\"Emaily\"\r\n            description=\"Five for five email credits\"\r\n            amount={500}\r\n            token={token=>{this.props.handleToken(token);}}\r\n            stripeKey={process.env.REACT_APP_STRIPE_KEY}\r\n             >\r\n                 <button className=\"btn\">Add credits</button>\r\n             </StripeCheckout>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(null,actions)(Payments);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\nimport Payments from './Payments';\r\n\r\nclass Header extends React.Component{\r\n\r\n  renderContent(){\r\n    switch(this.props.auth){\r\n      case null:\r\n        return;\r\n        case false:\r\n          return(<li><a href=\"/auth/google\">Login with Google</a></li>)\r\n          default:\r\n            return(\r\n              [\r\n            <li key='1'><Payments /></li>,\r\n            <li key ='3' style={{margin:'0px 10px '}}>Credits : {this.props.auth.credits}</li>,\r\n            <li key='2'><a href=\"/api/logout\">Logout</a></li>\r\n              ]\r\n            );\r\n    }\r\n  }\r\n\r\n    render(){\r\n        return (\r\n        <div>\r\n          <nav>\r\n    <div className=\"nav-wrapper\">\r\n      <Link to={this.props.auth ? '/surveys' : '/'} \r\n      className=\"brand-logo\"\r\n      >Email</Link>\r\n      <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n      {this.renderContent()}\r\n      </ul>\r\n    </div>\r\n  </nav>\r\n        </div>\r\n    )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({auth}){\r\n  return (\r\n    {auth}\r\n  )\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);","import React from 'react';\r\n\r\nconst Landing = () =>{\r\n    return(\r\n        <div style={{textAlign:\"center\"}}>\r\n            <h2>Emaily!</h2>\r\n            <p>Collect feedback from your users</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Landing;","import React from 'react';\r\nimport {BrowserRouter as Router,Route} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport * as actions from '../actions';\r\nimport Header from './Header';\r\nimport Landing from './Landing';\r\n\r\nconst SurveyNew = () =>{\r\n    return(\r\n        <div>\r\n            <h2>New survey page</h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Dashboard = () =>{\r\n    return(\r\n        <div>\r\n            <h2>Dashboard page</h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nclass App extends React.Component{\r\n\r\n    componentDidMount(){\r\n        this.props.fetchUser();\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"container\">\r\n            <Router>\r\n            <Header />\r\n                <Route path=\"/\" exact component={Landing}></Route>\r\n                <Route exact path=\"/surveys\" component={Dashboard}></Route>\r\n                <Route path=\"/surveys/new\" component={SurveyNew}></Route>\r\n            </Router>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(null,actions)(App);","import {combineReducers} from 'redux';\r\nimport authReducer from './authReducer';\r\n\r\nexport default combineReducers({\r\n    auth: authReducer\r\n})","import {FETCH_USER} from '../actions/types';\r\n\r\nexport default function(state={},action){\r\n    console.log(action);\r\n    switch(action.type){\r\n        case FETCH_USER:\r\n            return action.payload || false;\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\nimport {createStore,applyMiddleware} from 'redux';\r\nimport reduxThunk from 'redux-thunk';\r\nimport 'materialize-css/dist/css/materialize.min.css';\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\n\r\nconst store = createStore(reducers,{},applyMiddleware(reduxThunk));\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n<App />\r\n</Provider>\r\n,document.getElementById('root'));\r\n\r\nconsole.log('STRIPE KEY is',process.env.REACT_APP_STRIPE_KEY );\r\nconsole.log('OUR NODE ENV is',process.env.NODE_ENV);\r\n\r\n\r\n"],"sourceRoot":""}